-- List of allowed usernames
local allowedUsernames = {}

-- Dynamically load allowed usernames
local success, errorMessage = pcall(function()
    -- Replace this block with actual dynamic loading if needed, or use a static list.
    allowedUsernames = {
        ["rel4_alt2"] = true, -- Example usernames; replace with actual allowed usernames.
        ["Player1"] = true,
        ["Player2"] = true,
        ["Player3"] = true,
        ["Player4"] = true,
    }
end)

if not success then
    warn("Failed to load allowed usernames:", errorMessage)
end

-- Function to check if a player is in the whitelist
local function isPlayerAllowed(playerName)
    return allowedUsernames[playerName] ~= nil
end

-- Event triggered when a player joins the game
game.Players.PlayerAdded:Connect(function(player)
    if not isPlayerAllowed(player.Name) then
        -- Kick the player with a custom message
        player:Kick("You have been permanently banned from fallen!")
    end
end)
